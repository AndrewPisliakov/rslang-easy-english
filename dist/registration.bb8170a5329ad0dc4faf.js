(()=>{"use strict";window.onload=()=>{const e=document.querySelector("#registrationInputName"),t=document.querySelector("#registrationInputEmail"),n=document.querySelector("#registrationInputPassword"),o=document.querySelector("#formRegistration"),a={name:"",email:"",password:""};o.addEventListener("submit",(function(o){o.preventDefault(),(async e=>{const t=await fetch("https://rslang-easy-english-be.herokuapp.com/users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),{status:n}=t,o=await t.json();if(console.log(o),200===n)alert("Ваши данные дабавлены"),function(e){for(const t in e)e[t]=""}(a),console.log(a),window.location.href="authorization.html";else{const e=o.error.errors;let t="";e.forEach((e=>t+=`${e.message} \n `)),alert(t)}})(a),e.value="",t.value="",n.value=""})),e.addEventListener("change",(function(){a.name=this.value})),t.addEventListener("change",(function(){a.email=this.value})),n.addEventListener("change",(function(){this.value.length<=7?alert("введите 8-ми значный код!"):a.password=this.value}))}})();